{% extends 'base.html'%}
{% block title %} Dashboard {% endblock %}
{% block head %}
    <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.0/chart.js'></script>
    <script src='../static/js/charts.js' type='text/javascript'></script>
    <script src='../static/js/map.js' type='text/javascript'></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key={{API_KEY}}&callback=initMap">
</script>
{% endblock %}
{% block body %}
<h1>Dashboard Page</h1>
<a href='/log_out'>Done having fun? Click to log out</a>
<div class='container-fluid'>

    <div class='row'>
        <div class='col-3'>
            <form action="/dashboard">
                <label for='years'>Select a Year</label>
                    <select name='years' id='year'>
                        <option value="All">All Years</option>
                        {% for year in years_list %}
                            <option value={{year}}>{{year}}</option>
                        {%endfor%}
                    </select>
                    <input type="submit">
             </form>
        <h3>{{session['fname']}}'s {{year}} Info</h3>
        <br>
        Grand Total: {{ "$%.2f"|format(total_found + total_missed)}}
        <br>
        You Found: {{ "$%.2f"|format(total_found) }} 
        <br>
        You Missed: {{ "$%.2f"|format(total_missed) }}
        <br>
        A daily Average: {{ "$%.3f"|format(day_avg) }}
        <br>
        The most frequent year of a coin/bill is {{ money_year }} and it was found {{ money_count }} times!
        <br>
        The most frequent coin/bill is {{ money_type }} and it has been found {{ type_count }} times!
        <br>
        The Most Freq day of the week is: {{ dow }}

        </div>
        <div class='col-9'>
            <canvas id='stackedbar'></canvas>
        </div>
    </div>
    <div class='row'>
        <div class ='col-12'>
            <canvas id ='polar'></canvas>
        </div>
    </div>
    <div class='row'>
        <div id='map'>
          
        </div>
    </div>
</div>
{% endblock %}
